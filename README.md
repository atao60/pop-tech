Pop Tech
========

A blog with static pages generated by [jbake](http://jbake.org) and hosted on [Github](https://github.com/atao60/pop-tech).

Implementation
----

*jbake* is a great framework, it lets you free to choose your tools for the:

* build automation (here [Maven](http://maven.apache.org) with [jbake-maven-plugin](https://github.com/ingenieux/jbake-maven-plugin)),   
* templating (here [Groovy](http://www.groovy-lang.org/)),
* look and feel (here [Bootswatch](https://bootswatch.com/)).

This project is based on *Y. Bonnel*'s [blog](http://www.ybonnel.fr/), hosted [here](https://github.com/ybonnel/blog). The main changes from it are:

* Use [maven-scm-publish-plugin](http://maven.apache.org/plugins/maven-scm-publish-plugin/) in place of [Github Site Plugin](http://github.com/github/maven-plugins): it works even if the *Github* user profile is not fully filled, see [Pourquoi ce blog ?](http://atao60.github.io/pop-tech/2014/12/this-blog.html) (in french).

* Generate excerpts for the index and feed pages: it requires a helper class (in [Xtend](https://eclipse.org/xtend/)) and some scripts (in *Groovy*) inside the templates. Then no needs to fork *jbake* or `jbake-maven-plugin`.

* Share parameters between *Maven* and `jbake-maven-plugin`, with a little trick: `properties-maven-plugin` is used to generate a file `custom.properties` (which usage is deprecated by *jbake*) filled with all the *Maven* properties.

>There is an open request on this topic: [adding system and pom properties to config object in templates #9 ](https://github.com/ingenieux/jbake-maven-plugin/pull/9).

* Update assets with *Maven*, using [webjars](http://www.webjars.org/): the *Maven* profile `webjars` will upgrade the libraries.

* Enforce the most recent libraries and plugin: the *Maven* profile `enforce` will do all the checking.

* Misc. (i18n, tag counters, escaped rss titles, ...)

Todo
---

* i18n: to be able to publish the same post in different languages.
* merge storing on *Github* with publishing using [Travis](https://travis-ci.org/).
* no more XML: [Logback](http://logback.qos.ch/) is already configurated with *Groovy*, now [Polyglot for Maven](https://github.com/takari/polyglot-maven) can work with *Groovy* also.

Requirements
-----

*Java* 8 is required by the pom. But *Java* 7 should still work.
 
*Maven* 3.3.1 or above is required as *Maven* profiles are managed with [maven-profiledep-extension](https://github.com/sviperll/ozymandias/tree/master/maven-profiledep-extension). Still *Maven* 3.3 or below can be used: all the chained profiles must be specified on the command line, e.g. "`-Pbootswatch-pathes -Pminify -Pwebjars`" in place of "`-Pwebjars`".


Display
----

To see the blog, go on *Github* [gh-pages](http://atao60.github.io/pop-tech) or on [popsuite](http://www.popsuite.net).

Edit
-----

The posts are stored under <code>src/jbake/content</code>.

They can be written with any of these formats: Markdown, AsciiDoc and HTML.

The *jbake* documentation is available [here](http://jbake.org/docs/). 

Build and running
------

* To update the assets (*Bootswatch*, *SyntaxHighlighter*, ...):  
          `mvn clean process-resources -Pwebjars`  
&nbsp;            
With *M2Eclipse*, see launcher `pop-tech_setup_webjars`.          
      
* To get excerpt enhancement, *popsuite-blog:pop-tech* itself must have been installed in the local m2 repository, otherwise do it now:  
          `mvn clean install`        
&nbsp;            
With *M2Eclipse*, see launcher `pop-tech_clean_install`.          

* To preview the changes:  
        `mvn clean process-resources jbake:inline`  
and go to [http://localhost:8083](http://localhost:8083).  
&nbsp;            
With *M2Eclipse*, see launcher `pop-tech_clean_generate_inline`.  

>The port is defined by "jbake.port" in the pom file.
      
* Before publishing, save the changes on Github.   

* To publish the changes:  
        `mvn clean jbake:generate scm-publish:publish-scm`
&nbsp;            
With *M2Eclipse*, see launcher `pop-tech_clean_generate_publish`.
	  
References
------	  

* [Blogguer sous GitHub avec JBake](http://blog.ackx.net/blogguer-sous-github-avec-jbake.html), Youri Ackx, 29/01/2014
  
* [Authoring your blog on GitHub with JBake and Gradle](http://melix.github.io/blog/2014/02/hosting-jbake-github.html), Cédric Champeau, 03/02/2014 
  
* [Migration de blogger à jbake](http://www.ybonnel.fr/2014/07/migrate-blogger-to-jbake.html), Yan Bonnel, 02/07/2014

* [JBake Maven Plugin Walkthrough](http://docs.ingenieux.com.br/project/jbake/walkthrough.html)	 

* [Extract Webjars static resources with Gradle for jBake (or anything really...)](http://aruizca.com/extract-webjars-static-resources-with-gradle/), Angel Ruiz, 31/08/2015

* [Integration of JBake in Maven – Static Websites](http://blog.akquinet.de/2015/04/02/integration-of-jbake-in-maven-static-websites/), Lisa Pfisterer, 02/04/2015

* [Using JBake + Maven to post your blog on GitHub Pages](http://www.ricardoarguello.com/blog/2015/2015-04-06.html), 06/04/2015

* [Baking Your Blog with JBake, Groovy and GitHub](http://coffeaelectronica.com/blog/2015/baking-with-groovy-and-github.html), Christopher J. Stehno, 02/09/2015  
	  
Credits, licenses, copyright
------

* Thanks to *Cédric Champeau* and *Yan Bonnel* who have shared their blog code. 

* Photos : [Chaval Brasil](https://www.flickr.com/photos/chavals/) ([CC BY-NC-ND 2.0](https://creativecommons.org/licenses/by-nc-nd/2.0/))

* Pop Tech posts are published under [Creative Commons by-nc-sa 4.0](http://creativecommons.org/licenses/by-nc-sa/4.0/).

* Groovy templates and Java classes are under [Apache 2 license](http://www.apache.org/licenses/LICENSE-2.0).

